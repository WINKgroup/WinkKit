<!DOCTYPE html>
<html lang="en">
  <head>
    <title>WinkKit  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="WinkKit  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">WinkKit Docs</a> (72% documented)</p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">WinkKit Reference</a>
        <img id="carat" src="img/carat.png" />
        WinkKit  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/GoogleLocation.html">GoogleLocation</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Log.html">Log</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/OrderedSet.html">OrderedSet</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SpinnerTableViewCell.html">SpinnerTableViewCell</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes.html#/s:7WinkKit13VoidPresenterC">VoidPresenter</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/WKBaseInteractor.html">WKBaseInteractor</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/WKButton.html">WKButton</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/WKCollectionView.html">WKCollectionView</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/WKCollectionViewCell.html">WKCollectionViewCell</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/WKCollectionViewController.html">WKCollectionViewController</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/WKCollectionViewDataSource.html">WKCollectionViewDataSource</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/WKImageView.html">WKImageView</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/WKLabel.html">WKLabel</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/WKLocationHelper.html">WKLocationHelper</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/WKMediaPickerHelper.html">WKMediaPickerHelper</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/WKNavigationController.html">WKNavigationController</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/WKNavigator.html">WKNavigator</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/WKService.html">WKService</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/WKTableView.html">WKTableView</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/WKTableViewCell.html">WKTableViewCell</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/WKTableViewController.html">WKTableViewController</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/WKTableViewDataSource.html">WKTableViewDataSource</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/WKTableViewInfiniteDataSourceDelegate.html">WKTableViewInfiniteDataSourceDelegate</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/WKTextView.html">WKTextView</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/WKView.html">WKView</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/WKViewController.html">WKViewController</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Enums.html">Enums</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/LocationResult.html">LocationResult</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/Resource.html">Resource</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/UIColorInputError.html">UIColorInputError</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/WKLocationError.html">WKLocationError</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/WKMediaType.html">WKMediaType</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/WKPickerResult.html">WKPickerResult</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Extensions/AddressComponent.html">AddressComponent</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/CALayer.html">CALayer</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/Date.html">Date</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/String.html">String</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/UIAlertController.html">UIAlertController</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/UICollectionView.html">UICollectionView</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/UIColor.html">UIColor</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/UIImage.html">UIImage</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/UITableView.html">UITableView</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/UIView.html">UIView</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Functions.html">Functions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Functions.html#/s:7WinkKit1poiAA10OrderedSetCyxGAE_q_ts8HashableRz7ElementQy_Rszs8SequenceR_r0_lF">+(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:7WinkKit2peoiyAA10OrderedSetCyxGz_q_ts8HashableRz7ElementQy_Rszs8SequenceR_r0_lF">+=(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:7WinkKit1soiAA10OrderedSetCyxGAE_q_ts8HashableRz7ElementQy_Rszs8SequenceR_r0_lF">-(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:7WinkKit2seoiyAA10OrderedSetCyxGz_q_ts8HashableRz7ElementQy_Rszs8SequenceR_r0_lF">-=(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:7WinkKit2eeoiSbAA10OrderedSetCyxG_AEts8HashableRzlF">==(_:_:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Protocols/WKBaseViewController.html">WKBaseViewController</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols.html#/s:7WinkKit7WKErrorP">WKError</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/WKInstantiableViewController.html">WKInstantiableViewController</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/WKMedia.html">WKMedia</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols.html#/s:7WinkKit11WKPresenterP">WKPresenter</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/WKPropertiesInspectable.html">WKPropertiesInspectable</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/WKViewControllerPresenter.html">WKViewControllerPresenter</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Structs.html">Structs</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Structs/OrderedSetGenerator.html">OrderedSetGenerator</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Queue.html">Queue</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/WKCustomLayerStyleKey.html">WKCustomLayerStyleKey</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/WKMediaImage.html">WKMediaImage</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/WKMediaVideo.html">WKMediaVideo</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Subscripts.html">Subscripts</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Subscripts.html#/s:s10CollectionP7WinkKitE9subscript7ElementQzSg5IndexQz4safe_tci">subscript(safe:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Typealiases.html">Typealiases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:7WinkKit15AddressCallbacka">AddressCallback</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:7WinkKit16LocationCallbacka">LocationCallback</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:7WinkKit16WKPickerCallbacka">WKPickerCallback</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <h1 id='winkkit' class='heading'>WinkKit</h1>

<p>An iOS framework that contains a set of classes that solve some common problem written in Swift, used for Wink&rsquo;s application. Follow this guide to know how to structure a Wink iOS project.</p>
<h2 id='getting-started' class='heading'>Getting Started</h2>
<h3 id='prerequisites' class='heading'>Prerequisites</h3>

<p>You need <a href="https://developer.apple.com/xcode/">Xcode 9</a>, Swift 4 and <a href="https://guides.cocoapods.org/using/getting-started.html">CocoaPods</a> installed.</p>
<h3 id='installing' class='heading'>Installing</h3>

<p>Just paste the CocoaPods dependency in your <code>podfile</code></p>
<pre class="highlight ruby"><code><span class="c1"># Podfile</span>
<span class="n">use_frameworks!</span>

<span class="n">target</span> <span class="s1">'YOUR_TARGET_NAME'</span> <span class="k">do</span>
    <span class="n">pod</span> <span class="s1">'WinkKit'</span>
<span class="k">end</span>
</code></pre>
<h2 id='understanding-structure' class='heading'>Understanding Structure</h2>

<p>Before talking about classes of framework we&rsquo;ll take a look on architecture structure. </p>

<p>It is a kind of VIPER pattern; look at this <a href="https://medium.com/ios-os-x-development/ios-architecture-patterns-ecba4c38de52">iOS Architectures overview</a> to understand differences between MVC, MVP, MVVM, VIPER.</p>

<p>A Wink iOS project <strong>should</strong> be structured in the following way, expecially if the project will grow a lot:</p>

<p><img src="./readme-res/arch_diagram.jpg" alt="Arch diagram"></p>

<p>This kind of architecture is try to follow the <strong>Responsability Distribution</strong> concept: each layer exists without other ones and every component has different responsability; this improves the maintanance and the testability. The whole Xcode proj structure that maps this architecture is something like this:</p>

<p><img src="readme-res/xcode_structure.png" width=50% /></p>

<p><br></p>
<h3 id='presentation' class='heading'>Presentation</h3>

<p>It&rsquo;s the layer that contains all iOS Framework dedicated classes, like <code>UIKit</code> framework. We could say that this layer cannot exists without an iPhone/iPad because <code>UIKit</code> can run only there.</p>

<p><img src="readme-res/presentation_layer.png" width=50% /></p>

<ul>
<li><strong>AppDelegate</strong>: It&rsquo;s the well known AppDelegate class, nothing special;</li>
<li><strong>Use Cases</strong>: A group that contains all use cases. It&rsquo;s important to understand that a <em>Use Case</em> is what user do in one or more app screen, for example the Login.

<ul>
<li><strong>Login</strong>: En example of a Use Case. It will contain all related ViewControllers, Presenter (if a use case contains more than one), DataSources etc.

<ul>
<li><strong>LoginPresenter</strong>: A simple presenter; LoginPresenter keep the state of LoginViewController; a presenter is the class that contains logic, the ViewController does <strong>not</strong> contain logic. <strong>Presenter doesn&rsquo;t contains UIKit classes!</strong>, this is needed to keep presenters easy testable.</li>
<li><strong>LoginViewController</strong>: In classic MVC pattern, (Massive View Controller in iOS world 😫) all logic was here, mixed with the view handling; in this framework a ViewController <strong>owns</strong> a presenter and delegates it for the logic. The view controller doesn&rsquo;t have a method <code>func performLogin(email: String, password: String)</code> for example; instead, the presenter does. The view controller will only receive user input and tell the presenter that something happened. The presenter will do work and tell the view controller that the view should change.</li>
</ul></li>
</ul></li>
<li><strong>Core</strong>: A group that contains base classes re-usable all around project. It&rsquo;s a good practice to define this classes to avoid code duplication that could increase the maintanance difficulty.\</li>
<li><strong>Models</strong>: Contains all model classes that are used <strong>only</strong> in the presentation layer.</li>
<li><strong>Resources</strong>: All resources go here, included .xcassets, custom fonts&hellip;</li>
</ul>

<p><br></p>
<h3 id='data' class='heading'>Data</h3>

<p>It&rsquo;s the layer that handles all data stuff, such as http calls, cache uploading/downloading to/from a backend. No <code>UIKit</code> classes in this layer!</p>

<p><img src="readme-res/data_layer.png" width=50% /></p>

<ul>
<li><strong>Cache</strong>: A group that contains classes like SessionManager and all other stuff that saves data locally.</li>
<li><strong>Networking</strong>: The group that contains the Http Client, which must be implemented with <strong>Alamofire</strong>. WinkKit provides <a href="https://github.com/Alamofire/Alamofire">Alamofire</a> and <a href="https://github.com/Alamofire/AlamofireImage">Alamofire Image</a> in the framework itself, so you don&rsquo;t need to add anything in the Podfile.

<ul>
<li><strong>ResponseSerialization</strong>: Contains the <code>DataResponse</code> extension of Alamofire: it provides a common response for http calls that return an object instead of a json; json parsing is done in this extension (see source file for detail). Notice that this extension uses <a href="https://github.com/thoughtbot/Argo">Argo</a> for json parsing.</li>
<li><strong>Resource</strong>: and enum that maps the response of https calls.</li>
<li><strong>Error</strong>: the class/struct that maps http errors (both client and server)</li>
<li><strong>Routers</strong>: Routers are responsible to know api&rsquo;s endpoints and to create a <code>urlRequest</code> that are used by <strong>Services</strong> to perform http calls.</li>
<li><strong>Services</strong>: Services perform http calls, using the request created by routers.</li>
<li><strong>Models</strong>: Simple classes/structs that maps the server json response.</li>
</ul></li>
</ul>

<p><br></p>
<h3 id='domain' class='heading'>Domain</h3>

<p>It&rsquo;s layer in which there is business logic; it&rsquo;s a kind of bridge that connect <strong>Presentation</strong> and <strong>Data</strong> layers without without couple them. No <code>UIKit</code> classes in this layer!</p>

<p><img src="readme-res/domain_layer.png" width=50% /></p>

<p>Here you&rsquo;ll put interactors that contain all business logic; presenters use this interactor to communicate with <strong>data</strong> layer.</p>
<h2 id='authors' class='heading'>Authors</h2>

<p><strong>Rico Crescenzio</strong> - <a href="https://www.linkedin.com/in/quirico-crescenzio-810263b9/">Linkedin</a></p>
<h2 id='license' class='heading'>License</h2>

<p>This project is licensed under the MIT License - see the <a href="LICENSE.md">LICENSE.md</a> file for details</p>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2017 <a class="link" href="https://github.com/WINKgroup/WinkKit" target="_blank" rel="external">Rico Crescenzio</a>. All rights reserved. (Last updated: 2017-12-02)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.8.1</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
